
<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>帳戶記帳小幫手</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 500px; margin: auto; }
    h2 { text-align: center; }
    .hidden { display: none; }
    .form-step { margin-top: 20px; }
    button { margin: 5px 10px; padding: 10px 20px; font-size: 16px; }
    input, select, textarea { width: 100%; padding: 10px; margin-top: 10px; font-size: 16px; }
  </style>
</head>
<body>
  <h2>帳戶記帳小幫手</h2>
  <form id="form" method="POST" action="https://docs.google.com/forms/d/e/1FAIpQLSfL9nUPpXw3-5kzH1XXaWn-4S6RZ7PUnETUiUYbS0rxNoNQ3w/formResponse" target="hidden_iframe" onsubmit="submitted=true;">
    <div id="step1" class="form-step">
      <p>請選擇類型：</p>
      <button type="button" onclick="setType('支出')">支出</button>
      <button type="button" onclick="setType('收入')">收入</button>
    </div>
    <div id="step2" class="form-step hidden">
      <p>請選擇分類：</p>
      <select name="entry.2104564389" id="category" required>
        <option value="">請選擇</option>
        <option value="食物">食物</option>
        <option value="交通">交通</option>
        <option value="娛樂">娛樂</option>
        <option value="日用品">日用品</option>
        <option value="醫療">醫療</option>
        <option value="薪資">薪資</option>
        <option value="獎金">獎金</option>
        <option value="其他">其他</option>
      </select>
    </div>
    <div id="step3" class="form-step hidden">
      <p>請輸入金額：</p>
      <input type="number" name="entry.559329116" id="amount" required />
    </div>
    <div id="step4" class="form-step hidden">
      <p>註記（選填）：</p>
      <textarea name="entry.2102112938" id="note" rows="3"></textarea>
    </div>
    <div id="step5" class="form-step hidden">
      <p>支付方式（選填）：</p>
      <input type="text" name="entry.939580178" id="paymentMethod" placeholder="例如：現金、信用卡" />
      <p>地點（選填）：</p>
      <input type="text" name="entry.866759379" id="location" placeholder="例如：全聯、家樂福" />
    </div>
    <div id="submitStep" class="form-step hidden">
      <button type="submit">送出</button>
    </div>
    <input type="hidden" name="entry.1012293495" id="type" />
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="if(submitted) showSuccess()"></iframe>
  </form>

  <div id="successMessage" class="hidden">
    <h3>✅ 記帳成功！</h3>
    <p>已送出資料，謝謝使用。</p>
  </div>

  <script>
    let submitted = false;
    function setType(val) {
      document.getElementById("type").value = val;
      showStep(2);
    }
    function showStep(stepNum) {
      document.getElementById("step" + (stepNum - 1)).classList.add("hidden");
      document.getElementById("step" + stepNum).classList.remove("hidden");
    }

    document.getElementById("category").addEventListener("change", () => showStep(3));
    document.getElementById("amount").addEventListener("change", () => showStep(4));
    document.getElementById("note").addEventListener("change", () => showStep(5));
    document.getElementById("paymentMethod").addEventListener("change", () => showStep("submitStep"));

    function showSuccess() {
      document.getElementById("form").classList.add("hidden");
      document.getElementById("successMessage").classList.remove("hidden");
    }
  </script>
</body>
</html>
